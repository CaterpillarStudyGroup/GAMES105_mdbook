<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Controlling Characters - GAMES105</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="The note of GAMES105">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/pagetoc.css">
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><div>GAMES105</div></li><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="Introduction.html"><strong aria-hidden="true">2.</strong> Introduction to 3D Character Animation</a></li><li class="chapter-item expanded "><a href="Math.html"><strong aria-hidden="true">3.</strong> Math Background</a></li><li class="chapter-item expanded "><a href="Forward.html"><strong aria-hidden="true">4.</strong> Character Kinematics:Forward and Inverse Kinematics</a></li><li class="chapter-item expanded "><a href="Keyframe.html"><strong aria-hidden="true">5.</strong> Character Kinematics (cont.) &amp; Keyframe Animation</a></li><li class="chapter-item expanded "><a href="Data-driven.html"><strong aria-hidden="true">6.</strong> Data-driven Character Animation</a></li><li class="chapter-item expanded "><a href="Learning-based.html"><strong aria-hidden="true">7.</strong> Statistical Models of Human Motion</a></li><li class="chapter-item expanded "><a href="cont.html"><strong aria-hidden="true">8.</strong> Learning-based Character Animation</a></li><li class="chapter-item expanded "><a href="Skinning.html"><strong aria-hidden="true">9.</strong> Skinning</a></li><li class="chapter-item expanded "><a href="Simulation.html"><strong aria-hidden="true">10.</strong> Physics-based Simulation and Articulated Rigid Bodies</a></li><li class="chapter-item expanded "><a href="Actuating.html"><strong aria-hidden="true">11.</strong> Actuating Simulated Characters</a></li><li class="chapter-item expanded "><a href="Controlling.html" class="active"><strong aria-hidden="true">12.</strong> Controlling Characters</a></li><li class="chapter-item expanded "><a href="Learning.html"><strong aria-hidden="true">13.</strong> Learning to Walk</a></li><li class="chapter-item expanded "><a href="Optimal.html"><strong aria-hidden="true">14.</strong> Optimal Control and Reinforcement Learning</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">GAMES105</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/CaterpillarStudyGroup/GAMES105_mdbook" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main><div class="sidetoc"><nav class="pagetoc"></nav></div>
                        <p>P2</p>
<h1 id="outline"><a class="header" href="#outline">Outline</a></h1>
<ul>
<li>
<p>More about PD (Proportional-Derivative) control</p>
<ul>
<li>Stable PD control</li>
</ul>
</li>
<li>
<p>Feedforward Motion Control</p>
<ul>
<li>Trajectory optimization</li>
</ul>
</li>
</ul>
<blockquote>
<p>âœ… ä¸é€šè¿‡æ–½åŠ å‡€å¤–åŠ›ï¼Œæ„å»ºç‰©ç†å‡†ç¡®çš„åŠ¨ç”»ã€‚</p>
</blockquote>
<ul>
<li>Feedback Motion Control
<ul>
<li>Static balance</li>
</ul>
</li>
</ul>
<p>P3</p>
<h1 id="pd-control-for-characters"><a class="header" href="#pd-control-for-characters">PD Control for Characters</a></h1>
<h2 id="åŸºæœ¬æ–¹æ³•"><a class="header" href="#åŸºæœ¬æ–¹æ³•">åŸºæœ¬æ–¹æ³•</a></h2>
<p><img src="./assets/10-01.png" alt="" /></p>
<p><img src="./assets/10-02.png" alt="" /></p>
<p>P4</p>
<h3 id="å­˜åœ¨çš„é—®é¢˜"><a class="header" href="#å­˜åœ¨çš„é—®é¢˜">å­˜åœ¨çš„é—®é¢˜</a></h3>
<p>PD control computes torques based on <strong>errors</strong></p>
<h4 id="steady-state-error"><a class="header" href="#steady-state-error">Steady state error</a></h4>
<p>This arm never reaches the target angle under gravity</p>
<p><img src="./assets/10-03.png" alt="" /></p>
<p>P5</p>
<h4 id="motion-falls-behind-the-reference"><a class="header" href="#motion-falls-behind-the-reference">Motion falls behind the reference</a></h4>
<p><img src="./assets/10-04.png" alt="" /></p>
<p>P7</p>
<h4 id="ç¨³å®šæ€§"><a class="header" href="#ç¨³å®šæ€§">ç¨³å®šæ€§</a></h4>
<blockquote>
<p>âœ… å‰é¢ä¸¤ä¸ªé—®é¢˜çš„æ ¹æœ¬åŸå› æ˜¯ç›¸åŒçš„ï¼Œå› ä¸ºéœ€è¦æœ‰è¯¯å·®æ‰èƒ½è®¡ç®—forceï¼Œæœ‰äº†forceæ‰èƒ½æ§åˆ¶ã€‚</p>
</blockquote>
<p>High-gain \((k_p)\) control is more precise but less stableâ€¦</p>
<blockquote>
<p>âœ… å¢å¤§ \(k_p\)èƒ½ç¼“è§£ä»¥ä¸Šé—®é¢˜ï¼Œä½†å¤§çš„ \(k_p\) ä¼šå¸¦æ¥è‚¢ä½“åƒµç¡¬å’Œè®¡ç®—ä¸ç¨³å®šã€‚</p>
</blockquote>
<p>P8</p>
<h2 id="stability-of-pd-control"><a class="header" href="#stability-of-pd-control">Stability of PD Control</a></h2>
<h3 id="ä»¥å¼¹ç°§ç³»ç»Ÿä¸ºä¾‹å­"><a class="header" href="#ä»¥å¼¹ç°§ç³»ç»Ÿä¸ºä¾‹å­">ä»¥å¼¹ç°§ç³»ç»Ÿä¸ºä¾‹å­</a></h3>
<p><img src="./assets/10-05.png" alt="" /></p>
<p>$$
\begin{matrix}
f=-k_px-k_dv \quad\quad\quad\\
h: \text{ simulation time step}
\end{matrix}
$$</p>
<blockquote>
<p>âœ… PD control çš„è¿‡ç¨‹ç±»ä¼¼äºä¸€ä¸ªå¼¹ç°§ç³»ç»Ÿã€‚<br />
âœ… å› æ­¤åˆ©ç”¨å¼¹ç°§ç³»ç»Ÿä¸­çš„åŠéšå¼æ¬§æ‹‰æ¥æå‡ PD çš„ç¨³å®šæ€§ã€‚</p>
</blockquote>
<h3 id="åŠéšå¼æ¬§æ‹‰çš„å¼¹ç°§ç³»ç»Ÿ"><a class="header" href="#åŠéšå¼æ¬§æ‹‰çš„å¼¹ç°§ç³»ç»Ÿ">åŠéšå¼æ¬§æ‹‰çš„å¼¹ç°§ç³»ç»Ÿ</a></h3>
<p>Semi-implicit Euler Integration</p>
<p>$$
\begin{align*}
v_{n+1}  &amp; =v_n+h\frac{f}{m} \\
x_{n+1} &amp;=x_n+hv_{n+1}
\end{align*}
$$</p>
<h3 id="åŠéšå¼æ¬§æ‹‰çš„pdæ§åˆ¶"><a class="header" href="#åŠéšå¼æ¬§æ‹‰çš„pdæ§åˆ¶">åŠéšå¼æ¬§æ‹‰çš„PDæ§åˆ¶</a></h3>
<blockquote>
<p>âœ… \(h\) ä¸ºæ—¶é—´æ­¥é•¿ã€‚<br />
âœ… (1) å‡è®¾ \(mï¼1\) (2) ä»£å…¥ \(f\) åˆ°æ–¹ç¨‹ç»„ (3) æ–¹ç¨‹ç»„å†™æˆçŸ©é˜µå½¢å¼ï¼Œå¾—ï¼š</p>
</blockquote>
<p>P11</p>
<p>$$
\begin{bmatrix}
v_{n+1}\\
x_{n+1}
\end{bmatrix}=\begin{bmatrix}
1-k_dh  &amp; -k_ph\\
h(1-k_dh) &amp; 1-k_ph^2
\end{bmatrix}\begin{bmatrix}
v_n \\
x_n
\end{bmatrix}
$$</p>
<p>P14<br />
æå–å¸¸æ•°æ–¹ç¨‹Aï¼Œå¾—ï¼š</p>
<p>$$
A=\begin{bmatrix}
1-k_dh  &amp; -k_ph\\
h(1-k_dh) &amp; 1-k_ph^2
\end{bmatrix}
$$</p>
<p><img src="./assets/10-06.png" alt="" /></p>
<p>P19</p>
<h3 id="pdæ§åˆ¶çš„ç¨³å®šæ€§"><a class="header" href="#pdæ§åˆ¶çš„ç¨³å®šæ€§">PDæ§åˆ¶çš„ç¨³å®šæ€§</a></h3>
<p>\(\lambda _1,\lambda _2 \in  \mathbb{C}  \) are eigenvalues of \(A\)</p>
<blockquote>
<p>âœ… åŸºäºä¸­é—´å˜æ˜¯ \(z_n\) æ¨å¯¼çš„è¿‡ç¨‹è·³è¿‡ã€‚<br />
âœ… æ ¹æ®çŸ©é˜µç‰¹å¾å€¼çš„æ€§è´¨å¯ç›´æ¥å¾—å‡ºç»“è®ºã€‚</p>
</blockquote>
<p>if \(|\lambda _1|&gt; 1\)</p>
<p>The system is unstable!</p>
<p>Condition of stability: \(|\lambda _i|\le  1 \text{ for all } \lambda _i\)</p>
<p>P20</p>
<h3 id="é€šè¿‡hæ§åˆ¶pdæ§åˆ¶çš„ç¨³å®šæ€§"><a class="header" href="#é€šè¿‡hæ§åˆ¶pdæ§åˆ¶çš„ç¨³å®šæ€§">é€šè¿‡hæ§åˆ¶PDæ§åˆ¶çš„ç¨³å®šæ€§</a></h3>
<p><img src="./assets/10-07.png" alt="" /></p>
<blockquote>
<p>âœ… å¦‚æœ \(k_p\) å’Œ \(k_d\) å˜å¤§ï¼Œå°±å¿…é¡»ä»¥ä¸€ä¸ªè¾ƒå°çš„æ—¶é—´æ­¥é•¿è¿›è¡Œä»¿çœŸã€‚</p>
</blockquote>
<h3 id="pd-control-for-characters-1"><a class="header" href="#pd-control-for-characters-1">PD Control for Characters</a></h3>
<p>P21</p>
<ul>
<li>
<p>Determining gain and damping coefficients can be difficultâ€¦</p>
<ul>
<li>A typical setting \(k_p\) = 200, \(k_d\) = 20 for a 50kg character</li>
<li>Light body requires smaller gains</li>
<li>Dynamic motions need larger gains</li>
</ul>
</li>
<li>
<p>High-gain/high-damping control can be unstable, so small times is necessary</p>
<ul>
<li>\(h\) = 0.5~1ms is often used, or 1000~2000Hz</li>
<li>Higher gain/damping requires smaller time step</li>
</ul>
</li>
</ul>
<p>P22</p>
<h2 id="a-more-stable-pd-control"><a class="header" href="#a-more-stable-pd-control">A More Stable PD Control</a></h2>
<h3 id="åŠéšå¼æ¬§æ‹‰--éšå¼æ¬§æ‹‰"><a class="header" href="#åŠéšå¼æ¬§æ‹‰--éšå¼æ¬§æ‹‰">åŠéšå¼æ¬§æ‹‰ â†’ éšå¼æ¬§æ‹‰</a></h3>
<blockquote>
<p>âœ… è§£å†³æ–¹æ³•ï¼šåŠéšå¼æ¬§æ‹‰ â†’ éšå¼æ¬§æ‹‰ï¼Œå³ç”¨ä¸‹ä¸€æ—¶åˆ»çš„åŠ›è®¡ç®—ä¸‹ä¸€æ—¶åˆ»çš„é€Ÿåº¦ã€‚</p>
</blockquote>
<ul>
<li>åŠéšå¼æ¬§æ‹‰</li>
</ul>
<p>$$
\begin{align*}
v_{n+1} &amp; = v_n+h(-k_px_n-k_dv_n) \\
v_{n+1} &amp; = x_n+hv_{n+1}
\end{align*}
$$</p>
<p>$$
\Downarrow 
$$</p>
<ul>
<li>éšå¼æ¬§æ‹‰</li>
</ul>
<p>$$
\begin{align*}
v_{n+1} &amp; = v_n+h(-k_px_n-k_dv_{n+1}) \\
x_{n+1} &amp; = x_n+hv_{n+1}
\end{align*}
$$</p>
<blockquote>
<p>âœ… å®é™…ä¸Šï¼Œè®¡ç®— \(f_{nï¼‹1}\) åªä½¿ç”¨ \(V_{nï¼‹1}\) , ä¸ä½¿ç”¨ \(x_{nï¼‹1}\) , å› ä¸º \(x_{nï¼‹1}\) ä¼šå¼•å…¥éå¸¸å¤æ‚çš„è®¡ç®—ã€‚<br />
âœ… ç”±äº \(v_{nï¼‹1}\) æœªçŸ¥ï¼Œéœ€é€šè¿‡è§£æ–¹ç¨‹ç»„æ¥æ±‚è§£ã€‚</p>
</blockquote>
<p>P23<br />
å¾—åˆ°çš„æ–¹ç¨‹ç»„ä¸ºï¼š</p>
<p>$$
\begin{bmatrix}
v_{n+1} \\
x_{n+1} 
\end{bmatrix}=\frac{1}{1+hk_d} \begin{bmatrix}
1 &amp; -k_ph\\
h &amp; 1+k_dh-k_ph^2
\end{bmatrix}\begin{bmatrix}
v_n\\
x_n
\end{bmatrix}
$$</p>
<p>P24</p>
<h3 id="ç¨³å®šæ€§åˆ†æ"><a class="header" href="#ç¨³å®šæ€§åˆ†æ">ç¨³å®šæ€§åˆ†æ</a></h3>
<p><img src="./assets/10-08.png" alt="" /></p>
<blockquote>
<p>âœ… \(v_{n}\) æ¢æˆ \(v_{nï¼‹1}\) ï¼Œå¾ˆå¤§æ‰¿åº¦ä¸Šæé«˜äº†ç¨³å®šæ€§ã€‚</p>
</blockquote>
<p>P25</p>
<h3 id="ç›¸å…³å·¥ä½œ"><a class="header" href="#ç›¸å…³å·¥ä½œ">ç›¸å…³å·¥ä½œ</a></h3>
<blockquote>
<p>ğŸ” <img src="./assets/10-09.png" alt="" /></p>
</blockquote>
<p>$$
\tau _{\mathrm{int} }=-K_p(q^n+\dot{q}^n \Delta t-\bar{q} ^{n+1})-K_d(\dot{q} ^n+\ddot{q} ^n \Delta t)
$$</p>
<p>P26</p>
<h3 id="pd-control-for-characters-2"><a class="header" href="#pd-control-for-characters-2">PD Control for Characters</a></h3>
<ul>
<li>
<p>Determining gain and damping coefficients can be difficultâ€¦</p>
<ul>
<li>A typical setting \(k_p\) = 200, \(k_d\) = 20 for a 50kg character</li>
<li>Light body requires smaller gains</li>
<li>Dynamic motions need larger gains</li>
</ul>
</li>
<li>
<p>High-gain/high-damping control can be unstable, so small times is necessary</p>
<ul>
<li>\(h\) = 0.5~1ms is often used, or 1000~2000Hz</li>
<li>\(h\) = 1/120s~1/60s, or 120Hz/60Hz <strong>with Stable PD</strong></li>
<li>Higher gain/damping requires smaller time step</li>
</ul>
</li>
</ul>
<p>P28</p>
<h1 id="tracking-mocap-with-root-forcestorques"><a class="header" href="#tracking-mocap-with-root-forcestorques">Tracking Mocap with Root Forces/Torques</a></h1>
<blockquote>
<p>âœ… å½“å‰ç³»ç»Ÿä»å­˜çš„é—®é¢˜ã€‚(1) ç¨³æ€è¯¯å·®ï¼Œç›¸ä½å»¶è¿Ÿ (2) ç¼ºå°‘å¯¹æ ¹ç»“ç‚¹çš„åŠ›ã€‚</p>
</blockquote>
<p><img src="./assets/10-10.png" alt="" /></p>
<p>\(\tau _j\): joint torques<br />
\(\text{ }\) Apply \(\tau _j\) to â€œchildâ€ body<br />
\(\text{ }\) Apply \(-\tau _j\) to â€œparentâ€ body<br />
\(\text{ }\) All forces/torques sum up to zero</p>
<p>\(f_0,\tau _0\): root force / torque</p>
<p>\(\quad\quad\) Apply \(f _0\) to the root body</p>
<p>\(\quad\quad\) Apply \(\tau _0\) to the root body</p>
<p>\(\quad\quad\) Non-zero net force/torque on the character!</p>
<blockquote>
<p>âœ… å‡€å¤–åŠ›èƒ½è§£å†³é—®é¢˜ 2ï¼Œä½†ä¼šæœ‰â€œæçº¿æœ¨å¶â€çš„ artifacts.<br />
âœ… è§£å†³æ–¹æ³•ï¼šä¸ç›´æ¥å­¦ä¹ ç›®æ ‡è½¨è¿¹ï¼Œè€Œæ˜¯å…ˆå¯¹ç›®æ ‡è½¨è¿¹å¢åŠ ä¸€ä¸ªä¿®æ­£ã€‚å³è½¨è¿¹ä¼˜åŒ–ã€‚</p>
</blockquote>
<p>P30</p>
<h2 id="trajectory-optimization"><a class="header" href="#trajectory-optimization">Trajectory Optimization</a></h2>
<blockquote>
<p>ğŸ” [Witkin and Kass 1988 â€“ Spacetime constraints]</p>
</blockquote>
<blockquote>
<p>âœ… è½¨è¿¹ä¼˜åŒ–çš„é—®é¢˜æè¿°ï¼š</p>
</blockquote>
<p>Find the trajectories:</p>
<p>$$
\begin{align*}
\text{Simulation trajectory } &amp; : S_0,S_1,\dots ,S_T \\
\text{Control trajectory } &amp; : a_0,a_1,\dots ,a_{T-1}
\end{align*}
$$</p>
<blockquote>
<p>âœ… \(S\)ï¼šæ¯ä¸€ä¸ªæ—¶åˆ»ï¼Œè§’è‰²çš„çŠ¶æ€ï¼ŒåŒ…æ‹¬ä½ç½®ã€é€Ÿåº¦ã€æœå‘ç­‰ã€‚<br />
âœ… \(a\)ï¼šç›®æ ‡è½¨è¿¹ã€‚<br />
âœ… ä¼˜åŒ–å‡º \(S\) å’Œ \(a\)ï¼Œæ ¹æ® \(S\) å’Œ \(a\) å¾—åˆ°å…³èŠ‚åŠ›çŸ©ï¼Œå…³èŠ‚åŠ›çŸ©å†æ§åˆ¶è§’è‰²ã€‚</p>
</blockquote>
<p>that minimize the objective function</p>
<p>$$
\min_{(S_t,a_t)} f(S_T)+\sum_{t=0}^{T-1} f(S_t,a_t)
$$</p>
<blockquote>
<p>âœ… ç›®æ ‡å‡½æ•°ç¬¬ä¸€é¡¹ï¼šå…³äºè½¨è¿¹ç»“æŸæ—¶åˆ»çš„çŠ¶æ€ã€‚<br />
âœ… ç¬¬äºŒé¡¹ï¼šå…³äºæ¯ä¸€æ—¶åˆ»çš„çŠ¶æ€ã€‚</p>
</blockquote>
<p>and satisfy the constraints:</p>
<p>$$
\begin{align*}
M\dot{v}+C(x,v)   &amp; =f+J^T\lambda &amp; \text{Equations of motion} \\
g(x,v) &amp; \ge 0 &amp; \text{constraints } \quad \quad\quad
\end{align*}
$$</p>
<blockquote>
<p>âœ… çº¦æŸç¬¬ä¸€é¡¹ï¼šè¿åŠ¨å­¦æ–¹ç¨‹ã€‚<br />
âœ… ç¬¬äºŒé¡¹ï¼šæ ¹æ®åœºæ™¯ç‰¹æ®Šå®šä¹‰çš„çº¦æŸã€‚</p>
</blockquote>
<p>P33 </p>
<h2 id="ç®€åŒ–é—®é¢˜åˆ†æ"><a class="header" href="#ç®€åŒ–é—®é¢˜åˆ†æ">ç®€åŒ–é—®é¢˜åˆ†æ</a></h2>
<blockquote>
<p>âœ… ä»ä»¥æ–¹å—ç§»åŠ¨åˆ°ç›®æ ‡é«˜åº¦ä¸ºä¾‹ã€‚</p>
</blockquote>
<h3 id="é—®é¢˜æè¿°"><a class="header" href="#é—®é¢˜æè¿°">é—®é¢˜æè¿°</a></h3>
<p><img src="./assets/10-11.png" alt="" /></p>
<p>Compute a target trajectory \(\tilde{x} (t)\) such that the simulated trajectory \(x(t)\) is a sine curve.</p>
<h3 id="ç›®æ ‡å‡½æ•°"><a class="header" href="#ç›®æ ‡å‡½æ•°">ç›®æ ‡å‡½æ•°</a></h3>
<p>$$
\min_ {(x_n,v_n,\tilde {x} _n)} \sum _ {n=0}^{N} (\sin (t_n)-x_n)^2+\sum _ {n=0}^{N} \tilde {x}^2_n 
$$</p>
<blockquote>
<p>âœ… ç›®æ ‡å‡½æ•°ï¼šç›®æ ‡é¡¹ï¼‹æ­£åˆ™é¡¹</p>
</blockquote>
<h3 id="çº¦æŸ"><a class="header" href="#çº¦æŸ">çº¦æŸ</a></h3>
<p>$$
\begin{align*}
s.t. \quad &amp; v _ {n+1}= v_ n+h (k _ p( \tilde {x} _n-x_n)-k _ dv_n) \\
&amp; v _ {n+1} = x _ n + hv _ {n+1}
\end{align*}
$$</p>
<blockquote>
<p>âœ… çº¦æŸï¼šåŠéšå¼ç§¯åˆ†çš„è¿åŠ¨æ–¹ç¨‹</p>
</blockquote>
<p>P34</p>
<table><thead><tr><th></th><th></th></tr></thead><tbody>
<tr><td>Hard constraints:</td><td><img src="./assets/10-12.png" alt="" /></td></tr>
<tr><td>Soft constraints:</td><td><img src="./assets/10-013.png" alt="" /></td></tr>
</tbody></table>
<blockquote>
<p>âœ… ä»¥ä¸¤ç§æ–¹å¼ä½“ç°çº¦æŸï¼š<br />
âœ…ï¼ˆ1ï¼‰Hardï¼šå¿…é¡»æ»¡è¶³ï¼Œéš¾è§£ï¼Œä¸ç¨³å®šã€‚<br />
âœ…ï¼ˆ2ï¼‰Softï¼šå°½å¯èƒ½æ»¡è¶³ï¼Œæ˜“æ±‚è§£ã€‚</p>
</blockquote>
<p>P35</p>
<h3 id="å‚æ•°ç®€åŒ–"><a class="header" href="#å‚æ•°ç®€åŒ–">å‚æ•°ç®€åŒ–</a></h3>
<p>Collocation methods:</p>
<p>Assume the optimization variables {\(x_n, v_n, \tilde{x}_n\)} are values of a set of parametric curves</p>
<ul>
<li>typically polynomials or splines</li>
</ul>
<p>Optimize the parameters of the curves \(\theta\) instead</p>
<ul>
<li>with smaller number of variables than the original problem</li>
</ul>
<blockquote>
<p>âœ… è¦ä¼˜åŒ–çš„å‚æ•°é‡å¤ªå¤§ï¼Œéš¾ä»¥ä¼˜åŒ–ã€‚<br />
âœ… è§£å†³æ–¹æ³•ï¼šå‡è®¾å‚æ•°ç¬¦åˆç‰¹å®šçš„æ›²çº¿ï¼Œåªå­¦ä¹ æ›²çº¿çš„å‚æ•°ï¼Œå†ç”Ÿæˆå®Œæ•´çš„å‚æ•°ã€‚</p>
</blockquote>
<p>P37</p>
<h3 id="ä¼˜åŒ–æ–¹æ³•"><a class="header" href="#ä¼˜åŒ–æ–¹æ³•">ä¼˜åŒ–æ–¹æ³•</a></h3>
<p>How to solve this optimization problem?<br />
Gradient-based approaches:</p>
<ul>
<li>Gradient descent</li>
<li>Newtonâ€™s methods</li>
<li>Quasi-Newton methods</li>
<li>â€¦â€¦</li>
</ul>
<p>P39</p>
<h2 id="trajectory-optimization-for-tracking-control"><a class="header" href="#trajectory-optimization-for-tracking-control">Trajectory Optimization for Tracking Control</a></h2>
<p><img src="./assets/10-14.png" alt="" /></p>
<p>find a target trajectory</p>
<p><img src="./assets/10-15.png" alt="" /></p>
<blockquote>
<p>âœ… æŠŠåŠ¨æ•ç»“æœå½“æˆåˆå§‹è§£ï¼Œç„¶åä»¥ä¼˜åŒ–çš„æ–¹å¼æ‰¾åˆ°åˆç†è½¨è¿¹ã€‚</p>
</blockquote>
<p>P40</p>
<h3 id="problem-with-gradient-based-methods"><a class="header" href="#problem-with-gradient-based-methods">Problem with Gradient-Based Methods</a></h3>
<ul>
<li>The optimization problem is usually <strong>highly nonlinear</strong>, gradients are unreliable</li>
<li>The system is a black box with unknow dynamics, gradients are not available</li>
</ul>
<p>è§£å†³æ–¹æ³•ï¼š Derivative-Free Optimization</p>
<ul>
<li>
<p>Iterative methods</p>
<ul>
<li>Goal: find the variables ğ’™ that optimize \(f(x)\)</li>
<li>Determining an initial guess of \(x\)</li>
<li>Repeat:
<ul>
<li>Propose a set of candidate variables {\(x_i\)} according to \(x\)</li>
<li>Evaluate the objective function \(f_i=f(x_i)\)</li>
<li>Update the estimation for \(x\)</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Examples:</p>
<ul>
<li>Bayesian optimization, Evolution strategies (e.g. CMA-ES), Stochastic optimization, Sequential Monte Carlo methods, â€¦â€¦</li>
</ul>
</li>
</ul>
<blockquote>
<p>âœ… å¯å‘å¼æ–¹æ³•æˆ–éšæœºé‡‡æ ·æ–¹æ³•ï¼Œä¸éœ€è¦æ¢¯åº¦ã€‚<br />
âœ… ç¼ºç‚¹ï¼šæ…¢ã€ä¸ç²¾ç¡®ã€‚</p>
</blockquote>
<p>P43</p>
<h3 id="cma-es"><a class="header" href="#cma-es">CMA-ES</a></h3>
<ul>
<li>Covariance matrix adaptation evolution strategy (CMA-ES)
<ul>
<li>A widely adopted derivative-free method in character animation</li>
</ul>
</li>
</ul>
<p><img src="./assets/10-17.png" alt="" /></p>
<p>Goal: find the variables ğ’™ that optimize \(f(x)\) </p>
<ul>
<li>Initialize Gaussian distribution \(x\sim \mathcal{N} (\mu ,\Sigma )\)</li>
<li>Repeat:
<ul>
<li>sample candidate variables {\(x_i\)} \( \sim \mathcal{N} (\mu ,\Sigma )\)</li>
<li>Evaluate the objective function \(f_i=f(x_i)\)
<ul>
<li>Involve simulation and generate simulation trajectories</li>
</ul>
</li>
<li>Sort {\(f_i\)} and keep the top \(N\) elite samples</li>
<li>Update \(\mu ,\Sigma \) according to the elite samples</li>
</ul>
</li>
</ul>
<blockquote>
<p>âœ… ä¼˜ç‚¹ï¼šç¨³å®šï¼Œæ— æ¢¯åº¦ï¼Œå¯ç”¨äºé»‘ç›’ç³»ç»Ÿã€‚</p>
</blockquote>
<p>P44</p>
<blockquote>
<p>ğŸ” [Wampler and PopoviÄ‡ 2009 - Optimal Gait and Form for Animal Locomotion]</p>
</blockquote>
<p>P45</p>
<blockquote>
<p>âœ… [Al Borno et al. 2013 - Trajectory Optimization for Full-Body Movements with Complex Contacts]</p>
</blockquote>
<blockquote>
<p>âœ… åªä¼˜åŒ–ç›®æ ‡è½¨è¿¹ï¼Œä¸ä¼˜åŒ–ä»¿çœŸè½¨è¿¹ã€‚å› ä¸ºä»¿çœŸè½¨è¿¹å¯ä»¥é€šä»¿çœŸå¾—åˆ°ã€‚</p>
</blockquote>
<p>P46</p>
<h3 id="samcon"><a class="header" href="#samcon">SAMCON</a></h3>
<blockquote>
<p>âœ… CMA-ES çš„ç¼ºç‚¹ï¼š<br />
ï¼ˆ1ï¼‰æ¯æ¬¡éƒ½ä»å¤´åˆ°å°¾åšä»¿çœŸï¼Œè®¡ç®—é‡å¤§ã€‚<br />
ï¼ˆ2ï¼‰å¦‚æœä»¿çœŸè½¨è¿¹é•¿ï¼Œåˆ™éš¾æ”¶æ•›ã€‚<br />
âœ… æ”¹è¿›æ–¹æ³•ï¼šæ¯æ¬¡é‡‡æ ·ï¼Œåªè€ƒè™‘ä¸‹é¢ä¸€å¸§ã€‚</p>
</blockquote>
<blockquote>
<p>ğŸ” <strong>SA</strong>mpling-based <strong>M</strong>otion <strong>CON</strong>trol [Liu et al. 2010, 2015]<br />
- Motion Clip â†’ Open-loop control trajectory<br />
- A sequential Monte-Carlo method</p>
</blockquote>
<p><img src="./assets/10-18.png" alt="" /></p>
<table><thead><tr><th></th><th></th></tr></thead><tbody>
<tr><td><img src="./assets/10-19.png" alt="" /></td><td>âœ… æŠŠè½¨è¿¹åˆ†å‰²å¼€ï¼Œæ¯æ¬¡ä¼˜åŒ–ä¸€å°æ®µã€‚</td></tr>
<tr><td><img src="./assets/10-20.png" alt="" /></td><td>âœ… åœ¨ç›®æ ‡è½¨è¿¹ä¸Šå¢åŠ åç§»ï¼Œè·Ÿè¸ªåç§»ä¹‹åçš„è½¨è¿¹ã€‚<br> âœ… åç§»é‡æœªçŸ¥ï¼Œå› æ­¤ä»¥é«˜æ–¯åˆ†å¸ƒå¯¹åç§»é‡é‡‡æ ·ã€‚  <br> âœ… é«˜æ–¯åˆ†å¸ƒå¯ç”±å…¶å®ƒåˆ†å¸ƒä»£æ›¿ã€‚</td></tr>
<tr><td><img src="./assets/10-21.png" alt="" /></td><td>âœ… å¯¹æ¯ä¸ªåç§»é‡åšä¸€æ¬¡ä»¿çœŸï¼Œç”Ÿæˆæ–°çš„çŠ¶æ€ï¼Œä¿ç•™å…¶ä¸­ä¸å½“ç›®æ ‡æ¥è¿‘çš„ N ä¸ªã€‚</td></tr>
<tr><td><img src="./assets/10-22.png" alt="" /></td><td>âœ… ä»ä¸Šä¸€æ­¥ N ä¸ªä¸­éšæœºé€‰æ‹©å‡ºå‘ç‚¹ï¼Œä»¥åŠéšæœºçš„åç§»é‡ï¼Œå†åšä»¿çœŸä¸ç­›é€‰ã€‚</td></tr>
<tr><td><img src="./assets/10-23.png" alt="" /></td><td>âœ… æœ€ç»ˆæ‰¾åˆ°ä¸€ç»„æœ€æ¥è¿‘çš„ã€‚   <br> âœ… åŸç†ï¼šåªé€‰ä¸€ä¸ªå®¹æ˜“æ‰å…¥å±€éƒ¨æœ€ä¼˜ï¼Œå› æ­¤ä¿ç•™å¤šä¸ªã€‚ <br>  âœ… è’™ç‰¹å¡ç½—ï¼‹åŠ¨æ€è§„åˆ’</td></tr>
</tbody></table>
<blockquote>
<p>âœ… ä¼˜ç‚¹ï¼šç©¿è†œé—®é¢˜ä¹Ÿèƒ½è¢«ä¿®æ­£æ‰ï¼Œå¯è¿˜åŸåŠ¨æ•æ•°æ®ï¼Œå¯æ ¹æ®ç¯å¢ƒå½±å“è€Œè‡ªåŠ¨è°ƒæ•´ã€‚</p>
</blockquote>
<p>P54</p>
<h1 id="feedforward--feedback-control"><a class="header" href="#feedforward--feedback-control">Feedforward &amp; Feedback Control</a></h1>
<h2 id="feedforward-control"><a class="header" href="#feedforward-control">Feedforward Control</a></h2>
<p><img src="./assets/10-24.png" alt="" /></p>
<blockquote>
<p>âœ… å‰é¦ˆæ§åˆ¶ï¼Œè¦æ±‚æ¯ä¸€æ­¥çš„èµ·å§‹çŠ¶æ€éƒ½æ˜¯åœ¨è·å–è½¨è¿¹è¿‡ç¨‹ä¸­èƒ½å¾—åˆ°çš„çŠ¶æ€ã€‚<br />
âœ… å¦‚æœå¯¹èµ·å§‹çŠ¶æ€åŠ ä¸€ç‚¹æŒ åŠ¨ï¼ŒçŠ¶æ€ä¼šåç¦»å¾ˆè¿œã€‚</p>
</blockquote>
<p>P56</p>
<h2 id="feedback-control"><a class="header" href="#feedback-control">Feedback Control</a></h2>
<blockquote>
<p>âœ… è§£å†³æ–¹æ³•ï¼šå¼•å…¥åé¦ˆç­–ç•¥ã€‚æ ¹æ®å½“å‰åå·®ï¼Œè‡ªåŠ¨è®¡ç®—å‡ºæ›´æ­£ï¼ŒæŠŠæ›´æ­£å åŠ åˆ°æ§åˆ¶è½¨è¿¹ä¸Šã€‚</p>
</blockquote>
<table><thead><tr><th></th></tr></thead><tbody>
<tr><td><img src="./assets/10-025.png" alt="" /></td></tr>
<tr><td><img src="./assets/10-026.png" alt="" /></td></tr>
<tr><td><img src="./assets/10-027.png" alt="" /></td></tr>
</tbody></table>
<p>P62</p>
<h1 id="static-balance"><a class="header" href="#static-balance">Static Balance</a></h1>
<h2 id="å®šä¹‰"><a class="header" href="#å®šä¹‰">å®šä¹‰</a></h2>
<p>What is balance?</p>
<blockquote>
<p>âœ… Static Balanceï¼šåœ¨ä¸å‘ç”Ÿç§»åŠ¨çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡ç®€å•çš„æ§åˆ¶ç­–ç•¥ï¼Œä¿è¯è§’è‰²ä¸æ‘”å€’ã€‚<br />
âœ… å¹³è¡¡ï¼šè´¨å¿ƒåœ¨æ”¯æ’‘é¢å†…ã€‚</p>
</blockquote>
<p>P64<br />
<img src="./assets/10-29.png" alt="" /></p>
<blockquote>
<p>âœ… äººçš„è´¨å¿ƒï¼šæ¯ä¸€æ®µçš„è´¨å¿ƒçš„åŠ æƒå¹³å‡ã€‚<br />
âœ… äººçš„æ”¯æ’‘é¢ï¼šä¸¤è„šä¹‹å†…ã€‚</p>
</blockquote>
<p>P66 </p>
<h2 id="a-simple-strategy-pd-control"><a class="header" href="#a-simple-strategy-pd-control">A simple strategyï¼š PD Control</a></h2>
<p>A simple strategy to maintain balance:</p>
<h3 id="æ ¹æ®æ¡ä»¶è®¡ç®—åŠ›çŸ©"><a class="header" href="#æ ¹æ®æ¡ä»¶è®¡ç®—åŠ›çŸ©">æ ¹æ®æ¡ä»¶è®¡ç®—åŠ›çŸ©</a></h3>
<ul>
<li>
<p>Keep projected CoM close to the center of support polygon <strong>while tracking a standing pose</strong></p>
</li>
<li>
<p>Use <strong>PD control</strong> to compute feedback torque</p>
</li>
</ul>
<p><img src="./assets/10-30.png" alt="" /></p>
<blockquote>
<p>âœ… åŠ›çŸ© 1ï¼šè®©è§’è‰²ä¿æŒæŸä¸ªå§¿åŠ¿ã€‚<br />
âœ… åŠ›çŸ© 2ï¼šè®©è´¨å¿ƒä¸ç›®æ ‡è´¨å¿ƒä½ç½®æ¥è¿‘ã€‚<br />
âœ… åœ¨æŸäº›å…³èŠ‚ä¸Šå¢åŠ ä¸€äº›é¢å¤–çš„åŠ›çŸ©ã€‚</p>
</blockquote>
<p>P68</p>
<h3 id="æ–½åŠ åŠ›çŸ©"><a class="header" href="#æ–½åŠ åŠ›çŸ©">æ–½åŠ åŠ›çŸ©</a></h3>
<ul>
<li>Apply the feedback torque at <strong>ankles</strong> (ankle strategy) or <strong>hips</strong> (hip strategy)</li>
</ul>
<p>P69</p>
<h2 id="jacobian-transpose-control"><a class="header" href="#jacobian-transpose-control">Jacobian Transpose Control</a></h2>
<blockquote>
<p>âœ… å®ç° static balanceï¼Œé™¤äº† PD æ§åˆ¶è¿˜æœ‰å…¶å®ƒæ–¹æ³•ã€‚</p>
</blockquote>
<h3 id="è®¡ç®—è¦æ–½åŠ çš„åŠ›"><a class="header" href="#è®¡ç®—è¦æ–½åŠ çš„åŠ›">è®¡ç®—è¦æ–½åŠ çš„åŠ›</a></h3>
<p><img src="./assets/10-32.png" alt="" /></p>
<p>Can we use joint torques \(\tau _i\) to mimic the effect of a force \(f\) applied at \(x\)</p>
<ul>
<li>Note that the <strong>desired force</strong> \(f\) is not actually applied</li>
<li>Also called <strong>â€œvirtual forceâ€</strong></li>
</ul>
<blockquote>
<p>âœ… é€šè¿‡æ–½åŠ  \(\tau _1 ï¼Œ\tau _2ï¼Œ\tau _3\) æ¥è¾¾åˆ°ç»™ \(x\) æ–½åŠ  \(f\) çš„æ•ˆæœï¼</p>
</blockquote>
<p>P73</p>
<h3 id="æŠŠåŠ›è½¬åŒ–ä¸ºåŠ›çŸ©"><a class="header" href="#æŠŠåŠ›è½¬åŒ–ä¸ºåŠ›çŸ©">æŠŠåŠ›è½¬åŒ–ä¸ºåŠ›çŸ©</a></h3>
<p>Make \(f\) and \(\tau _i\) done the same power</p>
<p>$$
P=f^T\dot{x}=\tau  ^T\dot{\theta } 
$$</p>
<blockquote>
<p>âœ… ä»åšåŠŸçš„è§’åº¦ã€‚åŠŸç‡ = fv</p>
</blockquote>
<p>Forward kinematics \(x=g(\dot{\theta } )\Rightarrow \dot{x}=J \dot{\theta } \)</p>
<blockquote>
<p>âœ… \(gï¼ˆ* ï¼‰\) æ˜¯ä¸€ä¸ªFKå‡½æ•°ã€‚å…¶ä¸­ï¼š<br />
$$
J=\frac{\partial g}{\partial \theta } 
$$<br />
âœ… æŠŠ \( \dot{x } \) ä»£å…¥ä¸Šé¢å…¬å¼å¾—</p>
</blockquote>
<p>$$
f^T J\dot{\theta } = \tau  ^T\dot{\theta } 
$$</p>
<p>$$
\Downarrow 
$$</p>
<p>P76</p>
<p>$$
\tau =J^Tf
$$</p>
<blockquote>
<p>âœ… æŠŠ \( \tau\) åˆ†è§£ä¸ºæ¯ä¸€ä¸ªå…³èŠ‚æ¯ä¸€ä¸ªæ—‹è½¬çš„ \( \tau\)ï¼é€šè¿‡ Jacobian çŸ©é˜µçš„å«ä¹‰æ¨å‡ºï¼š</p>
</blockquote>
<p>$$
\Downarrow 
$$</p>
<p>$$
\tau _i=(x-p_i)\times f
$$</p>
<p>P77</p>
<h3 id="ç”¨äºstatic-balance"><a class="header" href="#ç”¨äºstatic-balance">ç”¨äºStatic Balance</a></h3>
<p>A simple strategy to maintain balance:</p>
<ul>
<li>
<p>Keep projected CoM close to the center of support polygon <strong>while tracking a standing pose</strong></p>
</li>
<li>
<p>Use PD control to compute feedback <strong>virtual force</strong></p>
</li>
</ul>
<blockquote>
<p>âœ… P66 ä¸­åœ¨ Hips ä¸ŠåŠ åŠ›çŸ©çš„æ–¹å¼åªèƒ½è¿›è¡Œç®€å•çš„æ§åˆ¶ã€‚<br />
âœ… å¯ä»¥é€šè¿‡è™šåŠ›å®ç°ç›¸ä¼¼çš„æ•ˆæœã€‚</p>
</blockquote>
<p>$$
f=k_p(\bar{c} -c)-k_d\dot{c}
$$</p>
<blockquote>
<p>âœ… \(c\) ä¸ä¸€å®šæ˜¯æŠ•å½±è·ç¦»ï¼Œè¿˜å¯ä»¥æè¿°é«˜åº¦è·ç¦»ï¼Œå®ç°ç«™èµ·è¹²ä¸‹çš„æ•ˆæœã€‚</p>
</blockquote>
<p>P78</p>
<ul>
<li>Assuming \(f\) <strong>is applied to the CoM</strong>, compute necessary joint torques using Jacobian transpose control to achieve it</li>
</ul>
<blockquote>
<p>âœ… ä½†ä¹Ÿä¸æ˜¯çœŸçš„åŠ åŠ›ï¼Œè€Œæ˜¯é€šè¿‡å‰é¢è®²çš„ Jacobian transpose control æ–¹æ³•è½¬ä¸ºç‰¹å®šå…³èŠ‚çš„åŠ›çŸ©ã€‚</p>
</blockquote>
<ul>
<li>Usually using the joints in the legs</li>
</ul>
<blockquote>
<p>âœ… æœ€åè¾¾åˆ°åœ¨Hipsä¸ŠåŠ åŠ›çš„æ•ˆæœ<br />
âœ… ä½†è¿™ç§æ–¹å¼èƒ½æ–½åŠ çš„åŠ›éå¸¸å¼±ï¼Œåªèƒ½å®ç°æ¯”è¾ƒå¾®å¼±çš„å¹³è¡¡</p>
</blockquote>
<p>P79</p>
<h2 id="a-fancier-strategy"><a class="header" href="#a-fancier-strategy">A fancier strategy:</a></h2>
<ul>
<li>Mocap tracking as an objective function</li>
<li>Controlling both the CoM position/<strong>momentum</strong> and the <strong>angular</strong> momentum</li>
<li>Solve a <strong>one-step</strong> optimization problem to compute joint torques</li>
</ul>
<blockquote>
<p>ğŸ” <img src="./assets/10-34.png" alt="" /></p>
</blockquote>
<hr />
<blockquote>
<p>æœ¬æ–‡å‡ºè‡ªCaterpillarStudyGroupï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
<p>https://caterpillarstudygroup.github.io/GAMES105_mdbook/</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="Actuating.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="Learning.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="Actuating.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="Learning.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="theme/pagetoc.js"></script>
    </body>
</html>
