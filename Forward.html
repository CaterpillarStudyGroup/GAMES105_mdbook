<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Character Kinematics:Forward and Inverse Kinematics - GAMES105</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="The note of GAMES105">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/pagetoc.css">
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><div>GAMES105</div></li><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="Introduction.html"><strong aria-hidden="true">2.</strong> Introduction to 3D Character Animation</a></li><li class="chapter-item expanded "><a href="Math.html"><strong aria-hidden="true">3.</strong> Math Background</a></li><li class="chapter-item expanded "><a href="Forward.html" class="active"><strong aria-hidden="true">4.</strong> Character Kinematics:Forward and Inverse Kinematics</a></li><li class="chapter-item expanded "><a href="Keyframe.html"><strong aria-hidden="true">5.</strong> Character Kinematics (cont.) &amp; Keyframe Animation</a></li><li class="chapter-item expanded "><a href="Data-driven.html"><strong aria-hidden="true">6.</strong> Data-driven Character Animation</a></li><li class="chapter-item expanded "><a href="Learning-based.html"><strong aria-hidden="true">7.</strong> Statistical Models of Human Motion</a></li><li class="chapter-item expanded "><a href="cont.html"><strong aria-hidden="true">8.</strong> Learning-based Character Animation</a></li><li class="chapter-item expanded "><a href="Skinning.html"><strong aria-hidden="true">9.</strong> Skinning</a></li><li class="chapter-item expanded "><a href="Simulation.html"><strong aria-hidden="true">10.</strong> Physics-based Simulation and Articulated Rigid Bodies</a></li><li class="chapter-item expanded "><a href="Actuating.html"><strong aria-hidden="true">11.</strong> Actuating Simulated Characters</a></li><li class="chapter-item expanded "><a href="Controlling.html"><strong aria-hidden="true">12.</strong> Controlling Characters</a></li><li class="chapter-item expanded "><a href="Learning.html"><strong aria-hidden="true">13.</strong> Learning to Walk</a></li><li class="chapter-item expanded "><a href="Optimal.html"><strong aria-hidden="true">14.</strong> Optimal Control and Reinforcement Learning</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">GAMES105</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/CaterpillarStudyGroup/GAMES105_mdbook" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main><div class="sidetoc"><nav class="pagetoc"></nav></div>
                        <p>P3</p>
<h1 id="outline"><a class="header" href="#outline">Outline</a></h1>
<ul>
<li>
<p>Character Kinematics</p>
<ul>
<li>Skeleton and forward Kinematics</li>
</ul>
</li>
<li>
<p>Inverse Kinematics</p>
<ul>
<li>IK as a optimization problem</li>
<li>Optimization approaches
<ul>
<li>Cyclic Coordinate Descent (CCD)</li>
<li>Jacobian and gradient descent method</li>
<li>Jacobian inverse method</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>P4</p>
<h1 id="character-kinematics"><a class="header" href="#character-kinematics">Character Kinematics</a></h1>
<p>the study of the motion of bodies <strong>without reference to mass or force</strong></p>
<p>P8</p>
<h2 id="joint-bone-skeleton"><a class="header" href="#joint-bone-skeleton">joint, bone, skeleton</a></h2>
<p><img src="./assets/03-01.png" alt="" /><br />
<img src="./assets/03-02.png" alt="" /></p>
<blockquote>
<p>âœ… å…³æ³¨å…³èŠ‚çš„ä½ç½®å’Œæ—‹è½¬</p>
</blockquote>
<p>P13</p>
<h2 id="kinematics-of-a-chain"><a class="header" href="#kinematics-of-a-chain">Kinematics of a Chain</a></h2>
<h3 id="é—®é¢˜æè¿°"><a class="header" href="#é—®é¢˜æè¿°">é—®é¢˜æè¿°</a></h3>
<p>è¦ä½¿æ‰‹è‡‚æ‘†æˆæŒ‡å®šçš„åŠ¨ä½œï¼Œæ¯ä¸ªå…³èŠ‚åœ¨å„è‡ªåæ ‡ç³»ä¸‹çš„æ—‹è½¬æ˜¯å¤šå°‘ï¼Ÿ</p>
<p><img src="./assets/03-03-1.png" alt="" /></p>
<p>æ±‚\(Q_0, Q_1, Q_2, Q_3, Q_4\)</p>
<p>P14</p>
<h3 id="åˆå§‹pose"><a class="header" href="#åˆå§‹pose">åˆå§‹pose</a></h3>
<p><img src="./assets/03-03.png" alt="" /></p>
<p>$$
Q_0=Q_1=Q_2=Q_3=Q_4=I
$$</p>
<blockquote>
<p>âœ… è¿™ä¸€ä¸ªå®šä¹‰äº†5ä¸ªå…³èŠ‚çš„æ‰‹è‡‚ã€‚åœ¨æ¯ä¸ªå…³èŠ‚ä¸Šç»‘ä¸Šä¸€ä¸ªåæ ‡ç³»ã€‚ </p>
</blockquote>
<p>P15</p>
<h3 id="æ—‹è½¬å…³èŠ‚4"><a class="header" href="#æ—‹è½¬å…³èŠ‚4">æ—‹è½¬å…³èŠ‚4</a></h3>
<p>æŠŠå…³èŠ‚4æ—‹è½¬R4ä»¥å</p>
<p><img src="./assets/03-04.png" alt="" /></p>
<blockquote>
<p>âœ… \(Q\)ï¼šåœ¨ä¸–ç•Œåæ ‡ç³»ä¸‹çš„æœå‘<br />
âœ… \(R\)ï¼šåœ¨å±€éƒ¨åæ ‡ç³»ä¸‹çš„æ—‹è½¬</p>
</blockquote>
<p>$$
\begin{matrix}
Q_0=I\quad\\<br />
Q_1=I\quad\\<br />
Q_2=I\quad\\<br />
Q_3=I\quad\\<br />
Q_4={\color{Red}{R_4}}
\end{matrix}
$$</p>
<p>P16</p>
<h3 id="æ—‹è½¬å…³èŠ‚3"><a class="header" href="#æ—‹è½¬å…³èŠ‚3">æ—‹è½¬å…³èŠ‚3</a></h3>
<p><img src="./assets/03-05.png" alt="" /> </p>
<p>æŠŠå…³èŠ‚3æ—‹è½¬R3ä»¥åï¼ŒQ3å’ŒQ4ä¼šåŒæ—¶å—åˆ°å½±å“</p>
<p>$$
\begin{matrix}
Q_0=I\quad\quad\\<br />
Q_1=I\quad\quad\\<br />
Q_2=I\quad\quad\\<br />
Q_3={\color{Red}{R_3}}\quad\\<br />
Q_4={\color{Red}{R_3}}R_4
\end{matrix}
$$</p>
<p>P17</p>
<h3 id="ä¾æ¬¡æ—‹è½¬å…³èŠ‚2-1-0"><a class="header" href="#ä¾æ¬¡æ—‹è½¬å…³èŠ‚2-1-0">ä¾æ¬¡æ—‹è½¬å…³èŠ‚2ï¼Œ 1ï¼Œ 0</a></h3>
<p><img src="./assets/03-08.png" alt="" /></p>
<p>$$
\begin{matrix}
Q_0={\color{Red}{R_0}}\quad \quad\quad\quad \\
Q_1={\color{Red}{R_0}}R_1 \quad\quad\quad \\
Q_3={\color{Red}{R_0}}R_1R_2R_3\quad \\
Q_4={\color{Red}{R_0}}R_1R_2R_3R_4
\end{matrix}
$$</p>
<p>P20</p>
<h3 id="ç®€åŒ–å…¬å¼ç”¨é€’æ¨çš„å½¢å¼æè¿°"><a class="header" href="#ç®€åŒ–å…¬å¼ç”¨é€’æ¨çš„å½¢å¼æè¿°">ç®€åŒ–å…¬å¼ï¼Œç”¨é€’æ¨çš„å½¢å¼æè¿°</a></h3>
<p><img src="./assets/03-09-1.png" alt="" /></p>
<p>P21</p>
<p>From rotation(local) to orientation(global)</p>
<p>$$
Q_i = Q_{i-1}R_i
$$</p>
<p>From orientation(global) to rotation(local)</p>
<p>$$
R_i = Q^T_{i-1}Q_i
$$</p>
<blockquote>
<p>âœ… è¿™äº› \(Q\) éƒ½æ˜¯å…¨å±€æ—‹è½¬ï¼Œ\(R\) æ˜¯å±€éƒ¨æ—‹è½¬ã€‚</p>
</blockquote>
<h2 id="kinematics-with-position"><a class="header" href="#kinematics-with-position">Kinematics with position</a></h2>
<p>P23</p>
<h3 id="åˆå§‹çŠ¶æ€"><a class="header" href="#åˆå§‹çŠ¶æ€">åˆå§‹çŠ¶æ€</a></h3>
<p><img src="./assets/03-11.png" alt="" /></p>
<blockquote>
<p>âœ… \( ğ’ \)ï¼šå­å…³èŠ‚ä½ç½®åœ¨çˆ¶åæ ‡ç³»ä¸‹çš„åæ ‡ã€‚</p>
</blockquote>
<p>P31</p>
<h3 id="positon-with-pose"><a class="header" href="#positon-with-pose">positon with pose</a></h3>
<p><img src="./assets/03-011.png" alt="" /></p>
<blockquote>
<p>âœ… \(p\) æ˜¯å…¨å±€ä½ç½®ï¼Œ\( ğ’ \) æ˜¯å±€éƒ¨åç§»ã€‚</p>
</blockquote>
<p>P37</p>
<h2 id="forward-kinematics-of-a-chain-summary"><a class="header" href="#forward-kinematics-of-a-chain-summary">Forward Kinematics of a Chain: Summary</a></h2>
<h3 id="position"><a class="header" href="#position">position</a></h3>
<p>Given the rotations of all joints \(R_i\), find the coordinates of \(x_0\) in the global frame \(x\):</p>
<p><img src="./assets/03-14.png" alt="" /></p>
<blockquote>
<p>âœ… \(x_0\) æ˜¯ \(R_4\) åæ ‡ç³»ä¸‹çš„ç‚¹ï¼Œæ±‚å®ƒåœ¨æŸä¸ªçˆ¶åæ ‡ç³»ä¸‹çš„ä½ç½®ã€‚<br />
âœ… \(p\)ï¼šå…³èŠ‚åœ¨å…¨å±€åæ ‡ç³»ä¸‹çš„ä½ç½®<br />
âœ… ç¬¬1æ­¥ï¼šæ ¹æ® \(R_i\) å’Œ \( ğ’ _i\) æ±‚å‡º \(Q_i\) å’Œ \(P_i\)<br />
âœ… ç¬¬2æ­¥ï¼š\(E\) å¯ä»¥æ˜¯ä»»æ„çˆ¶ç»“ç‚¹ï¼Œå…¬å¼éƒ½é€‚ç”¨</p>
</blockquote>
<p>P38</p>
<p><img src="./assets/03-15.png" alt="" /></p>
<blockquote>
<p>âœ… æ˜¯ä¸Šä¸€é¡µçš„å¦ä¸€ç§å†™æ³•ï¼Œä¸éœ€æå‰ç®—å‡ºä¸­é—´å˜é‡ã€‚</p>
</blockquote>
<p>P39</p>
<h3 id="rotation"><a class="header" href="#rotation">rotation</a></h3>
<p>Given the rotations of all joints \(R_i\), find the coordinates of \(x_0\) relative to the local frame of \(Q_k\):</p>
<p><img src="./assets/03-16.png" alt="" /></p>
<blockquote>
<p>âœ… å·²çŸ¥å…¨å±€åæ ‡ç³»ä¸‹çš„åæ ‡ï¼Œæ±‚ \(Q_k\) ä¸‹çš„åæ ‡ã€‚</p>
</blockquote>
<p>P40</p>
<p><img src="./assets/03-17.png" alt="" /></p>
<blockquote>
<p>âœ… å¯¹åº”ä¸Šä¸€é¡µçš„å¦ä¸€ç§å†™æ³•</p>
</blockquote>
<p>P41</p>
<h2 id="kinematics-of-a-character"><a class="header" href="#kinematics-of-a-character">Kinematics of a Character</a></h2>
<h3 id="éª¨éª¼çš„å‚æ•°åŒ–è¡¨ç¤º"><a class="header" href="#éª¨éª¼çš„å‚æ•°åŒ–è¡¨ç¤º">éª¨éª¼çš„å‚æ•°åŒ–è¡¨ç¤º</a></h3>
<p><img src="./assets/03-18.png" alt="" /></p>
<blockquote>
<p>âœ… æŠŠè§’è‰²å»ºæ¨¡æˆå¤šæ¡å…³èŠ‚é“¾ã€‚</p>
</blockquote>
<p>P43</p>
<p><img src="./assets/03-18-1.png" alt="" /></p>
<blockquote>
<p>âœ… ä»¥ä¸åŒå…³èŠ‚ä¸º rootï¼ŒåŒæ ·æ—‹è½¬ä¼šå¾—åˆ°ä¸åŒæ•ˆæœã€‚</p>
</blockquote>
<p>P45</p>
<h3 id="types-of-joints"><a class="header" href="#types-of-joints">Types of Joints</a></h3>
<p><img src="./assets/03-20.png" alt="" /></p>
<p>P50</p>
<table><thead><tr><th></th><th></th><th></th></tr></thead><tbody>
<tr><td><img src="./assets/03-025-2.png" alt="" /></td><td><img src="./assets/03-023.png" alt="" /></td><td>knee, elbow <br>  \({\color{Red}{1 \text{DoF}}}\)  <br> \(\theta_{\min }\le \theta\le  \theta_{\max } \) <br> hinge joint <br>  revolute joint</td></tr>
<tr><td><img src="./assets/03-025-1.png" alt="" /></td><td><img src="./assets/03-024.png" alt="" /></td><td>hip, shoulder <br>  \({\color{Red}{3 \text{DoF}}}\) <br> \(\theta_{\min }\preceq  \theta \preceq  \theta_{\max } \) <br> ball-and-socket joint</td></tr>
<tr><td></td><td><img src="./assets/03-25.png" alt="" /></td><td>æ‰‹è…•ã€‚å…¶å®æ‰‹è…•ä¸èƒ½è‡ªè½¬ã€‚<br>2 Dof</td></tr>
</tbody></table>
<blockquote>
<p>âœ… å…³èŠ‚çš„è‡ªç”±åº¦æœ€å¤šä¸º3ï¼Œå› ä¸ºä¸èƒ½è‡ªä¸»ç§»åŠ¨ã€‚Hips é™¤å¤–ã€‚
âœ… è‡ªç”±åº¦ï¼šä¸€ä¸ªç‰©ç†ç³»ç»Ÿï¼Œéœ€è¦å¤šå°‘å‚æ•°å¯ä»¥å”¯ä¸€å‡†ç¡®åœ°æè¿°å®ƒçš„çŠ¶æ€ã€‚<br />
âœ… 6 DOFï¼3 å¹³ç§» ï¼‹ 3 æ—‹è½¬ã€‚</p>
</blockquote>
<h3 id="å§¿æ€çš„å‚æ•°åŒ–è¡¨ç¤º-pose-parameters"><a class="header" href="#å§¿æ€çš„å‚æ•°åŒ–è¡¨ç¤º-pose-parameters">å§¿æ€çš„å‚æ•°åŒ–è¡¨ç¤º Pose Parameters</a></h3>
<p>P55</p>
<p>$$
(t_0,R_0,R_1,R_2\dots \dots ) 
$$</p>
<p>$$
\text{root } \mid \text{ internal joints}
$$</p>
<p>joints are typically in the order that every joint precedes its offspring</p>
<p>for \(i\) in joint_list:</p>
<p>$$
\begin{align*}
p_i= &amp; i^,\text{ s parent joint} \\
Q_i=&amp; Q_{pi}R_i \\
x_i= &amp; x_{pi} + Q_{pi}l_i
\end{align*}
$$</p>
<blockquote>
<p>âœ… ä¸€ä¸ªåŠ¨ä½œçš„å‚æ•°åŒ–è¡¨ç¤ºï¼š<br />
âœ… å…¨å±€ä½ç½®ï¼‹root æœå‘ï¼‹å„å…³èŠ‚æ—‹è½¬<br />
âœ… é€šå¸¸è¦æ±‚ï¼Œå…³èŠ‚é¡ºåºä¸ºçˆ¶åœ¨å‰å­åœ¨åï¼Œè¿™æ ·åªé¡»éå†ä¸€éå°±èƒ½å®Œæˆ FK.</p>
</blockquote>
<blockquote>
<p>â“ Q2: how should we allow stretchable bones?<br />
âœ… ç­”ï¼šå¢åŠ å‚æ•°ï¼Œ3 Dof å¢åŠ ä¸º 6 Dof.</p>
</blockquote>
<p>P58</p>
<h3 id="example-motion-data-in-a-file"><a class="header" href="#example-motion-data-in-a-file">Example: motion data in a file</a></h3>
<p>BVH files</p>
<ul>
<li>HIERARCHY: defining <strong>T-pose of</strong> the character</li>
<li>MOTION: root position and <strong>Euler angles</strong> of each joints</li>
</ul>
<p>See: <a href="https://research.cs.wisc.edu/graphics/Courses/cs-838-1999/Jeff/BVH.html">https://research.cs.wisc.edu/graphics/Courses/cs-838-1999/Jeff/BVH.html</a></p>
<p><img src="./assets/03-30-1.png" alt="" /></p>
<p><img src="./assets/03-31-1.png" alt="" /></p>
<p>P59</p>
<h1 id="inverse-kinematics"><a class="header" href="#inverse-kinematics">Inverse Kinematics</a></h1>
<blockquote>
<p>ğŸ” A. Aristidou, J. Lasenby, Y. Chrysanthou, and A. Shamir. 2018.<br />
<strong>Inverse Kinematics Techniques in Computer Graphics: A Survey.</strong><br />
Computer Graphics Forum</p>
</blockquote>
<p>P61</p>
<h2 id="forward-and-inverse-problems"><a class="header" href="#forward-and-inverse-problems">Forward and Inverse Problems</a></h2>
<p>For a system that can be described by a set of <strong>parameters</strong> \(\theta \), and a <strong>property</strong> ğ’™ of the system given by</p>
<p>$$
x=f(\theta )
$$</p>
<p><strong>Forward problem</strong>:</p>
<ul>
<li>
<p>Given \(\theta \), we need to compute \(x \)</p>
</li>
<li>
<p>Easy to compute since \(f\) is known, the result is unique</p>
</li>
<li>
<p>DoF of \( \theta \) is often much larger than that of \(x \). We cannot easily tune \(\theta \) to achieve a specific value of \(x\). </p>
</li>
</ul>
<p><strong>Inverse problem</strong>:</p>
<ul>
<li>
<p>Given \(x \), we need to find a set of valid parameters \(\theta \) such that\(x=f(\theta) \)</p>
</li>
<li>
<p>Often need to solve a difficult <strong>nonlinear</strong> equation, which can have <strong>multiple</strong> solutions</p>
</li>
<li>
<p>\(x\) is typically meaningful and can be set in intuitive ways</p>
</li>
</ul>
<p>P62</p>
<h2 id="inverse-kinematicsé—®é¢˜æè¿°"><a class="header" href="#inverse-kinematicsé—®é¢˜æè¿°">Inverse Kinematicsé—®é¢˜æè¿°</a></h2>
<p><img src="./assets/03-32.png" alt="" /></p>
<p>Given the position of the end-effector \(x\), Compute the joint rotations \(R_i\)</p>
<p>P64</p>
<blockquote>
<p>âœ… å¤§éƒ¨åˆ†æƒ…å†µä¸‹IKé—®é¢˜æ˜¯å¤šè§£é—®é¢˜</p>
</blockquote>
<p><img src="./assets/03-33.png" alt="" /></p>
<p>P68</p>
<h2 id="two-joint-ik"><a class="header" href="#two-joint-ik">two-joint IK</a></h2>
<h3 id="step-1-rotate-joint-1-such-that"><a class="header" href="#step-1-rotate-joint-1-such-that">Step 1: Rotate joint 1 such that</a></h3>
<p><img src="./assets/03-35.png" alt="" /></p>
<p>$$
||l_{ox}||=||l_{02}||
$$</p>
<blockquote>
<p>âœ… ä½¿ç”¨ä½™å¼¦å…¬å¼</p>
</blockquote>
<h3 id="step-2-rotate-joint-0-such-that"><a class="header" href="#step-2-rotate-joint-0-such-that">Step 2: Rotate joint 0 such that</a></h3>
<p><img src="./assets/03-36.png" alt="" /></p>
<p>$$
l_{ox}=l_{02}
$$</p>
<blockquote>
<p>âœ… å‰ä¹˜å¾—åˆ°æ—‹è½´ï¼Œç‚¹ä¹˜å¾—åˆ°æ—‹è½¬è§’ã€‚</p>
</blockquote>
<h3 id="step-3-rotate-joint-0-around-l_ox-if-necessary"><a class="header" href="#step-3-rotate-joint-0-around-l_ox-if-necessary">Step 3: Rotate joint 0 around \(l_{ox}\) if necessary</a></h3>
<p><img src="./assets/03-37.png" alt="" /></p>
<h2 id="multi-joint-ik"><a class="header" href="#multi-joint-ik">Multi Joint IK</a></h2>
<p>P72</p>
<p>æœºæ¢°è‡‚åœºæ™¯ï¼Œå…³èŠ‚æœ‰å¤šä¸ªï¼ŒæŒ‡å®šæœ«ç«¯ç»“ç‚¹çš„ä½ç½®å’Œæœå‘</p>
<p>$$
x=f(\theta ) \\
Q=Q(\theta )
$$</p>
<p><img src="./assets/03-38.png" alt="" /></p>
<blockquote>
<p>âœ… æ§åˆ¶æœ«ç«¯ç‚¹çš„æœå‘æ¯”è¾ƒç®€å•ï¼Œä½†æ§åˆ¶æœ«ç«¯ç‚¹çš„ä½ç½®æ¯”è¾ƒéš¾ï¼Œå› æ­¤é‡ç‚¹è€ƒè™‘å¦‚ä½•æ§åˆ¶æœ«ç«¯ç‚¹çš„ä½ç½®</p>
</blockquote>
<p>P74</p>
<h3 id="ik-as-an-optimization-problem"><a class="header" href="#ik-as-an-optimization-problem">IK as an Optimization Problem</a></h3>
<p><img src="./assets/03-39-1.png" alt="" /></p>
<p>P75</p>
<p>Find \(\theta \)  to optimize</p>
<p>$$
\min_{\theta } \frac{1}{2} ||f(\theta )-\tilde{x} ||^2_2
$$</p>
<blockquote>
<p>âœ… ç”¨è¿­ä»£çš„æ–¹æ³•ï¼Œä»å½“å‰ motion å‡ºå‘ï¼Œä¼˜åŒ–å‡ºç›®æ ‡ motion.</p>
</blockquote>
<p>P88</p>
<h3 id="ccdik"><a class="header" href="#ccdik">CCDIK</a></h3>
<h4 id="cyclic-coordinate-descent-ccd"><a class="header" href="#cyclic-coordinate-descent-ccd">Cyclic Coordinate Descent (CCD)</a></h4>
<p>Update parameters along each axis of the coordinate system</p>
<p>Iterate cyclically through all axes</p>
<p><img src="./assets/03-40.png" alt="" /></p>
<p>P90</p>
<h4 id="cyclic-coordinate-descent-ccd-ik"><a class="header" href="#cyclic-coordinate-descent-ccd-ik">Cyclic Coordinate Descent (CCD) IK</a></h4>
<blockquote>
<p>âœ… å‰ä¹˜å¾—åˆ°æ—‹è½¬è½´ï¼Œç‚¹ä¹˜å¾—åˆ°æ—‹è½¬è§’åº¦ã€‚</p>
</blockquote>
<table><thead><tr><th></th><th></th></tr></thead><tbody>
<tr><td>Rotate joint 3 such that \(ğ’_{34}\) points towards \(\tilde{x}\)</td><td><img src="./assets/03-41.png" alt="" /></td></tr>
<tr><td>Rotate joint 2 such that \(ğ’_{24}\) points towards \(\tilde{x}\)</td><td><img src="./assets/03-43.png" alt="" /></td></tr>
<tr><td>Rotate joint 1 such that \(ğ’_{14}\) points towards \(\tilde{x}\)</td><td><img src="./assets/03-44.png" alt="" /></td></tr>
<tr><td>Rotate joint 0 such that \(ğ’_{14}\) points towards \(\tilde{x}\)</td><td><img src="./assets/03-45.png" alt="" /></td></tr>
<tr><td>Rotate joint 3 such that \({l}'_{34}\) points towards \(\tilde{x}\)</td><td><img src="./assets/03-46.png" alt="" /></td></tr>
<tr><td>â€¦â€¦</td><td></td></tr>
</tbody></table>
<p>Iteratively rotation each joint to make the end-effector align with vector between the joint and the target</p>
<p>Easy to implement, very fast</p>
<p>The â€œfirstâ€ joint moves more than the others May take <strong>many iterations</strong> to <strong>converge</strong> Result can be sensitive to the <strong>initial solution</strong></p>
<blockquote>
<p>âœ… ä¸€ä¸ªåŠ¨ä½œåºåˆ—åš CCDï¼Œå¯èƒ½ç»“æœä¸ç¨³å®šï¼Œæœ‰è·³å˜ã€‚<br />
âœ… å‰é¢ä¾‹å­æ˜¯ 3210 çš„è°ƒæ•´é¡ºåºï¼Œä¹Ÿå¯ä»¥æ˜¯ 0123 çš„é¡ºåºã€‚<br />
âœ… å…ˆç§»åˆ°çš„å…³èŠ‚è°ƒæ•´å¹…åº¦ä¼šå¤§ä¸€ç‚¹ï¼Œæ‰€ä»¥ä¸€èˆ¬ä»æœ«ç«¯å¼€å§‹ã€‚</p>
</blockquote>
<p>P105</p>
<h2 id="gradient-descent"><a class="header" href="#gradient-descent">Gradient Descent</a></h2>
<p>CCDä¸‹é™æ²¡æœ‰è€ƒè™‘ç›®æ ‡å‡½æ•°çš„æ€§è´¨ï¼Œè€ƒè™‘ç›®æ ‡å‡½æ•°çš„æ€§è´¨å¯ä»¥å¾—å‡ºä¸‹é™æ›´å¿«çš„æ–¹æ³•ã€‚</p>
<blockquote>
<p>âœ… å…³äºæ¢¯åº¦ä¸‹é™æ³•è·³è¿‡ã€‚</p>
</blockquote>
<p>é’ˆå¯¹ç›®æ ‡å‡½æ•°</p>
<p>$$
\min_{\theta } \frac{1}{2} ||f(\theta )-\tilde{x} ||^2_2
$$</p>
<p>å…¶æ¢¯åº¦ä¸ºï¼š</p>
<p>$$
\begin{align*}
\nabla_\theta F(\theta ^i)= &amp; (\frac{\partial f}{\partial \theta }(\theta ^i))^T(f(\theta ^i)-\tilde{x})\\
= &amp; J^T \Delta<br />
\end{align*}
$$</p>
<blockquote>
<p>âœ… \(J\) æ˜¯ JacobiaçŸ©é˜µï¼Œ \( \Delta \) æ˜¯ä½ç½®å·®</p>
</blockquote>
<p>P106</p>
<p>å› ä¸ºæ›´æ–°å‡½æ•°ä¸ºï¼š</p>
<p>$$
\theta ^{i+1}=\theta ^i-\alpha J^T\Delta
$$</p>
<p>$$
J= \frac{\partial f}{\partial \theta }=(\frac{\partial f}{\partial \theta_0 }\frac{\partial f}{\partial \theta_1 }\dots \frac{\partial f}{\partial \theta_n } ) 
$$</p>
<p>Jæ˜¯ä¸€ä¸ª3*Nçš„çŸ©é˜µï¼ŒNä»£è¡¨å…³èŠ‚æ•°ã€‚<br />
<img src="./assets/03-46-2.png" alt="" /></p>
<p>æ€ä¹ˆè®¡ç®—Jï¼Ÿ<br />
æ–¹æ³•ä¸€ï¼šä½¿ç”¨machine learning frameworkçš„autogradåŠŸèƒ½<br />
æ–¹æ³•äºŒï¼šæœ‰é™å·®åˆ†<br />
æ–¹æ³•ä¸‰ï¼šGeometric Approach</p>
<p>P114</p>
<h3 id="geometric-approach"><a class="header" href="#geometric-approach">Geometric Approach</a></h3>
<h4 id="é—®é¢˜æè¿°-1"><a class="header" href="#é—®é¢˜æè¿°-1">é—®é¢˜æè¿°</a></h4>
<p><em>Assuming all joints are hinge joint</em><br />
æ±‚å…³èŠ‚ 1 æ—‹è½¬è½´ \(a_1\)ï¼Œå¯¹ \(x\) ä½ç§»çš„å½±å“</p>
<p><img src="./assets/03-46-1.png" alt="" /></p>
<h4 id="è®¡ç®—è¿‡ç¨‹"><a class="header" href="#è®¡ç®—è¿‡ç¨‹">è®¡ç®—è¿‡ç¨‹</a></h4>
<p>$$
{x}' -x=(\sin \delta \theta _i)a_i\times r_i+(1-\cos \delta \theta _i)a_i\times(a_i\times r_i)
$$</p>
<p>$$
\frac{ \partial f }{\partial \theta _ i} = \lim _ {\delta \theta _ i \to 0} \frac{{x}'-x }{\delta \theta _ i}= a _ i\times r _i 
$$</p>
<p>P117</p>
<h4 id="æ›´é€šç”¨çš„åœºæ™¯--ball-joints"><a class="header" href="#æ›´é€šç”¨çš„åœºæ™¯--ball-joints">æ›´é€šç”¨çš„åœºæ™¯- ball joints</a></h4>
<p>â“ How to deal with ball joints?<br />
A ball joint parameterized as Euler angles:</p>
<p>$$ 
ğ‘…_ğ‘– = ğ‘…_{ğ‘–ğ‘¥}ğ‘…_{ğ‘–ğ‘¦}ğ‘…_{ğ‘–ğ‘§}
$$</p>
<p>can be considered as a compound joint with 
three hinge joints</p>
<p><img src="./assets/03-46-4.png" alt="" /></p>
<blockquote>
<p>âœ… ä¸€ä¸ªball jointå¯ä»¥çœ‹ä½œæ˜¯3ä¸ªhint jointã€‚å› æ­¤å JçŸ©é˜µçš„3åˆ—ã€‚</p>
</blockquote>
<p>ä¹Ÿå¯ä»¥å†™æˆè¿™ç§å½¢å¼ï¼š</p>
<p>$$
\frac{ \partial f }{\partial \theta _ {i\ast } } = a _ {i\ast } \times r _ i
$$</p>
<p>få¯¹æŸä¸€ä¸ªæ¬§æ‹‰è§’çš„å¯¼æ•°ï¼Œç­‰äºè¿™ä¸ªæ¬§æ‹‰è§’çš„è½´å‰ä¹˜ä¸Šæœ«ç«¯ç‚¹åˆ°å…³èŠ‚ç‚¹çš„è·ç¦»ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªçš„æ—‹è½¬è½´aæ˜¯åœ¨ä¸–ç•Œåæ ‡ç³»ä¸‹çš„è¡¨ç¤ºï¼Œå› æ­¤è¦æœ‰ä¸€ä¸ªåæ ‡ç³»çš„è½¬æ¢ã€‚</p>
<p>$$
\begin{align*}
ğ’‚_{ğ‘–ğ‘¥} &amp; =ğ‘„_{ğ‘–âˆ’1}ğ’†_ğ‘¥  \\
ğ’‚_{ğ‘–ğ‘¦}&amp; = ğ‘„_{ğ‘–âˆ’1}ğ‘…_{ğ‘–ğ‘¥}ğ’†_ğ‘¦\\
ğ’‚_{ğ‘–ğ‘§} &amp;= ğ‘„_{ğ‘–âˆ’1}ğ‘…_{ğ‘–ğ‘¥}ğ‘…_{ğ‘–ğ‘¦}ğ’†_ğ‘§
\end{align*}
$$</p>
<blockquote>
<p>â“ é—®ï¼šCan we parameterize a ball joint using axis-angle \(\theta u\) and compute Jacobian as</p>
</blockquote>
<p>$$
\begin{matrix}
\frac{\partial f}{\partial \theta _i} =\theta u\times r_i &amp; ???
\end{matrix}
$$</p>
<blockquote>
<p>âœ… ç­”ï¼šä¸å¯ä»¥ã€‚Jacobian for axis-angle representation has a rather complicated formulationâ€¦</p>
</blockquote>
<p>P121</p>
<h4 id="jacobian-transpose--gradient-descent"><a class="header" href="#jacobian-transpose--gradient-descent">Jacobian Transpose / Gradient Descent</a></h4>
<p>First-order approach, convergence can be slow Need to re-compute Jacobian at each iteration</p>
<blockquote>
<p>âœ… æ€ä¹ˆæ±‚ \(J\)ï¼Œè¿™é‡Œè®²äº† 3 ç§æ–¹æ³•ï¼šï¼ˆ1ï¼‰backward æ¡†æ¶ï¼ˆ2ï¼‰å·®åˆ†ï¼ˆ3ï¼‰å‡ ä½•è®¡ç®—ã€‚å®é™…ä¸Šç›´æ¥ç”¨ 1 å¯ä»¥è§£å†³ï¼Œä¸éœ€è¦è‡ªå·±å»ç®—ï¼Œå› æ­¤è·³è¿‡ã€‚<br />
âœ… ç‰¹ç‚¹ï¼šï¼ˆ1ï¼‰è¿­ä»£æ¬¡æ•°æ¯” CCD å°‘ï¼ˆ2ï¼‰è®¡ç®—é‡æ¯” CCD å¤§ã€‚</p>
</blockquote>
<p>P122</p>
<blockquote>
<p>âœ… æ•°å€¼æ’å€¼ç®—æ³•è§ GAMES102.</p>
</blockquote>
<p>P124</p>
<h2 id="quadratic-programming-äºŒæ¬¡è§„åˆ’é—®é¢˜"><a class="header" href="#quadratic-programming-äºŒæ¬¡è§„åˆ’é—®é¢˜">Quadratic Programming äºŒæ¬¡è§„åˆ’é—®é¢˜</a></h2>
<blockquote>
<p>âœ… è¿™å‡ é¡µä»‹ç»äºŒæ¬¡å‡½æ•°æ±‚æå€¼çš„é—®é¢˜ã€‚</p>
</blockquote>
<p>$$
\min_{\theta } F(\theta )=\frac{1}{2} \theta ^TA\theta +b^T\theta 
$$</p>
<p>where \(A\) is positive definite:</p>
<p>$$
A=A^T,\theta ^TA\theta \ge 0 \text{ for any } \theta 
$$</p>
<p>P126</p>
<h3 id="å…¬å¼ç›´æ¥æ±‚è§£"><a class="header" href="#å…¬å¼ç›´æ¥æ±‚è§£">å…¬å¼ç›´æ¥æ±‚è§£</a></h3>
<p>$$
\begin{matrix}
\text{Gradient}: \nabla_\theta  F(\theta )=A\theta +b \\
\text{Optimality condition}: \nabla_\theta  F(\theta ^\ast )=0\\
{\color{Blue} \Downarrow } \\
\theta ^\ast =-A^{-1}b
\end{matrix}
$$</p>
<blockquote>
<p>âœ… äºŒæ¬¡å‡½æ•°çš„æå€¼ç‚¹å¯ä»¥ç›´æ¥ä»å…¬å¼æ±‚å‡ºæ¥</p>
</blockquote>
<p>P127</p>
<h3 id="gauss-newton-method"><a class="header" href="#gauss-newton-method">Gauss-Newton Method</a></h3>
<blockquote>
<p>âœ… IKé—®é¢˜ä¹Ÿå¯ä»¥è½¬åŒ–ä¸ºäºŒæ¬¡å‡½æ•°æ±‚æå€¼çš„é—®é¢˜</p>
</blockquote>
<p>$$
F(\theta )=\frac{1}{2} ||f(\theta )-\tilde{x} ||^2_2
$$</p>
<p><img src="./assets/03-47.png" alt="" /></p>
<p>Consider the first-order approximation of \(f(\theta)\) at \(\theta^0\)</p>
<blockquote>
<p>âœ… æŠŠ \(f(\theta )\) åœ¨ \(\theta ^{\circ} \) å¤„ä¸€é˜¶æ³°å‹’å±•å¼€ã€‚</p>
</blockquote>
<p>$$
\begin{align*}
f(\theta)\approx &amp; f(\theta^0) + \frac{\partial f}{\partial \theta} (\theta^0)(\theta-\theta^0) \\
= &amp; f(\theta^0)+J(\theta-\theta^0)
\end{align*}
$$</p>
<p>P128</p>
<blockquote>
<p>âœ… æŠŠå®ƒä»£å…¥ç›®æ ‡å‡½æ•°ã€‚</p>
</blockquote>
<p>\begin{align*}
f(\theta)\approx  &amp; \frac{1}{2}||f(\theta^0)+J(\theta -\theta ^0)-\tilde{x}||^2_2    \\
= &amp;\frac{1}{2} (\theta -\theta ^0)^TJ^TJ(\theta -\theta ^0)\\
&amp; +(\theta -\theta ^0)^TJ^T(f(\theta ^0)-\tilde{x})+c 
\end{align*}</p>
<p>P129</p>
<p>first-order optimality condition</p>
<blockquote>
<p>âœ… ä»¤ \((\nabla F (\theta ))^T=0\)</p>
</blockquote>
<p>$$
\begin{matrix}
f(\theta)\approx  \frac{1}{2}||f(\theta^0)+J(\theta -\theta ^0)-\tilde{x}||^2_2 \\
\Downarrow \\
(\nabla F (\theta ))^T=J^TJ(\theta-\theta^0)+J^T(f(\theta^0)-\tilde{x} )=0
\end{matrix}
$$</p>
<p>P133<br />
$$
J^TJ(\theta-\theta^0)=-J^T\Delta 
$$</p>
<h4 id="if-jtj-ä¸å¯é€†"><a class="header" href="#if-jtj-ä¸å¯é€†">if \(J^TJ\) ä¸å¯é€†</a></h4>
<blockquote>
<p>âœ… \(J\) çš„ç»´åº¦æ˜¯ \(3\times N\)ï¼Œå› æ­¤ \(J^TJ\) ä¸å¯é€†ã€‚</p>
</blockquote>
<p>\(J^TJ\) is \({\color{Red} {\text{NOT}}}\) invertible, but \(JJ^T\) can be invertible</p>
<p>P134<br />
å› æ­¤åšä»¥ä¸‹è½¬åŒ–ï¼š</p>
<p><img src="./assets/03-042.png" alt="" /></p>
<blockquote>
<p>âœ… \(\Delta\) æ˜¯å½“å‰å’Œç›®æ ‡çš„æœ«ç«¯ç‚¹ä½ç½®ä¹‹å·®ã€‚</p>
</blockquote>
<p>P135</p>
<p>$$
J(\theta-\theta^0)=\tilde{x} -f(\theta^0)
$$</p>
<p>P137</p>
<p>$$
\begin{align*}
\theta = &amp; \theta ^0-J^+\Delta \\
= &amp; \theta ^0-J^T(JJ^T)^{-1}\Delta
\end{align*}
$$</p>
<p>\(J^+\)è¡¨ç¤ºJçš„(Moore-Penrose) Pseudoinverse</p>
<p>P138</p>
<h4 id="if-jtj-å¯é€†"><a class="header" href="#if-jtj-å¯é€†">if \(J^TJ\) å¯é€†</a></h4>
<p>$$
J^TJ(\theta-\theta^0)=-J^T\Delta 
$$</p>
<p>If \(J^TJ\) is invertible, we have</p>
<p>$$
\theta = \theta^0 - (J^TJ)^{-1}J^T\Delta
$$</p>
<p>but when can \(J^TJ\) be invertible?</p>
<p>P141</p>
<blockquote>
<p>âœ… ç­”ï¼šæ”¹å˜IKçš„çº¦æŸæ¡ä»¶ï¼ˆä¾‹å¦‚å¢åŠ ä¸­é—´å…³èŠ‚çš„ä½ç½®è¦æ±‚ï¼‰å’Œè‡ªç”±åº¦ï¼ˆä¾‹å¦‚é™åˆ¶å…³èŠ‚çš„è‡ªç”±åº¦ï¼‰ï¼Œå¯æ”¹å˜ \(J\) çš„å½¢çŠ¶ä¸ºæ–¹é˜µæˆ–é«˜ç˜¦é˜µï¼Œæ­¤æ—¶ \(J^TJ\) å¯é€†ï¼Œåˆ™æ¢ä¸€ç§æ–¹å¼æ±‚é€†ã€‚</p>
</blockquote>
<p>P143</p>
<h4 id="å¯¹æ¯”"><a class="header" href="#å¯¹æ¯”">å¯¹æ¯”</a></h4>
<p><img src="./assets/03-50.png" alt="" /></p>
<blockquote>
<p>âœ… å·¦ï¼šæ¬ çº¦æŸï¼Œå³ï¼šè¿‡çº¦æŸã€‚<br />
âœ… ç”±äºè¿™ä¸ªæ–¹æ³•çš„æœ¬è´¨æ˜¯æŠŠé«˜åº¦éçº¿æ€§çš„å‡½æ•°åšäº†çº¿æ€§åŒ–ï¼Œæ‰€ä»¥åªæ˜¯åœ¨å½“å‰ä½ç½®é™„è¿‘æ‰æœ‰æ•ˆï¼Œè¿œäº†è¯¯å·®å°±ä¼šéå¸¸å¤§ã€‚å› æ­¤å¢åŠ learning rateã€‚</p>
</blockquote>
<p>P145</p>
<p>Usually faster than gradient descent/Jacobian transpose method.</p>
<p>Any problem? \(JJ^T/J^TJ\) can be (near) singular!</p>
<blockquote>
<p>âœ… å¿«ä¸€ç‚¹æ˜¯å› ä¸º \(J^ï¼‹\) æ˜¯è¿‘ä¼¼çš„ \(J\)ï¼Œè®¡ç®—é‡è¾ƒå°ï¼Œé—®é¢˜æ˜¯å¯èƒ½å¾—åˆ°ä¸€ä¸ªé”™å¾ˆè¿œçš„ \(J^ï¼‹\)ï¼Œå¯¼è‡´ç»“æœä¸ç¨³å®šã€‚</p>
</blockquote>
<p>P147</p>
<h3 id="damped-jacobian-inverse-method"><a class="header" href="#damped-jacobian-inverse-method">Damped Jacobian Inverse Method</a></h3>
<blockquote>
<p>âœ… ä¸Šä¸€é¡µçš„é—®é¢˜æ˜¯ä¼ªé€†\(J^ï¼‹\) å¼•å…¥çš„ä¸ç¨³å®šã€‚<br />
âœ… è§£å†³æ–¹æ³•ï¼šå¼• \(\lambda\) é˜»å°¼é¡¹</p>
</blockquote>
<p>$$
J^\ast =J^T(JJ^T+\lambda I)^{-1}
$$</p>
<p>$$
J^\ast =(J^TJ+\lambda I)^{-1}J^T
$$</p>
<p>P148<br />
Also called Levenberg-Marquardt algorithm</p>
<blockquote>
<p>âœ… å¼• \(\lambda\) é˜»å°¼é¡¶åï¼Œä¸¤ç§æ–¹å¼çš„è®¡ç®—ç»“æœç›¸åŒã€‚<br />
âœ… å½“ \(\lambda\) å¾ˆå¤§æ—¶ï¼Œæ­¤æ–¹æ³•ç­‰ä»·äºæ¢¯åº¦ä¸‹é™æ³•ã€‚</p>
</blockquote>
<p>P149</p>
<h4 id="lambda-çš„å‡ ä½•æ„ä¹‰"><a class="header" href="#lambda-çš„å‡ ä½•æ„ä¹‰">\(\lambda\) çš„å‡ ä½•æ„ä¹‰</a></h4>
<blockquote>
<p>âœ… ç›¸å½“äºæ­£åˆ™é¡¹
âœ… è¿›ä¸€æ­¥åœ°ï¼Œåˆ†åˆ«ç»™æ¯ä¸ªå…³èŠ‚ç§»åŠ¨æƒé‡ã€‚<br />
âœ… æƒé‡è¶Šå¤§ï¼Œç§»åŠ¨è¶Šå°ã€‚</p>
</blockquote>
<p><img src="./assets/03-51.png" alt="" /></p>
<p>P152</p>
<h2 id="character-å…¨èº«ik"><a class="header" href="#character-å…¨èº«ik">Character å…¨èº«IK</a></h2>
<p><img src="./assets/03-052.png" alt="" /></p>
<blockquote>
<p>âœ… å…¨èº« IKï¼Œä¸åŒé“¾æ¡ä¸Šéƒ½æœ‰ç›®æ ‡ç‚¹ã€‚<br />
âœ… å¯ä»¥åŒæ—¶ä¼˜åŒ–æ‰€æœ‰é“¾ï¼Œæˆ–é€‰ä¸€ä¸ªæˆ–é€‰ä¸€äº›ã€‚<br />
âœ… IK è¦æ›´æ–°å“ªå…³èŠ‚ä¹Ÿå¯ä»¥è‡ªç”±è®¾å®šã€‚</p>
</blockquote>
<p>P156</p>
<h1 id="æ€»ç»“"><a class="header" href="#æ€»ç»“">æ€»ç»“</a></h1>
<blockquote>
<p>âœ… IKé—®é¢˜å¯ä»¥ä½¿ç”¨ä¼˜åŒ–æ–¹æ³•ï¼Œä¸åŒä¼˜åŒ–æ–¹æ³•å¯¹åº”ä¸åŒ IK æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š<br />
CCD â†’ CCDIK<br />
æ¢¯åº¦ä¸‹é™æ³• â†’ Jacobian transpose<br />
Gaussian â†’ Jacobian Inverse<br />
âœ… IKé—®é¢˜å¯ä»¥ä½¿ç”¨å¯å‘å¼æ–¹æ³•ï¼Œä¾‹å¦‚FABRIK
Andreas Aristidou and Joan Lasenby. 2011.<br />
ğŸ” <strong>FABRIK: A fast, iterative solver for the Inverse Kinematics problem.</strong><br />
<em>Graphical Models</em></p>
</blockquote>
<p>P158</p>
<blockquote>
<p>âœ… Slerp ç»“åˆ Sbline.<br />
âœ… 50 fps â†’ 60 fpsï¼šå…ˆæ’å€¼ï¼Œå†é‡‡æ ·<br />
âœ… æƒ¯æ€§æ’å€¼ï¼šUE åŸºäº SPD æ±‚çº¦æŸæ¥åš IK<br />
âœ… å‚è€ƒ Darel Holden åšå®¢</p>
</blockquote>
<hr />
<blockquote>
<p>æœ¬æ–‡å‡ºè‡ªCaterpillarStudyGroupï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
<p>https://caterpillarstudygroup.github.io/GAMES105_mdbook/</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="Math.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="Keyframe.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="Math.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="Keyframe.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="theme/pagetoc.js"></script>
    </body>
</html>
